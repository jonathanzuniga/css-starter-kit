@import '_functions';
@import '_mixins';
@import '_variables';

/* ========================================================================== */

/***
 * Content:
 */
* {
	margin: 0;
	padding: 0;

	outline: none;
}

body {
	color: $text-color;
	font-size: $base-font-size;
	line-height: $line-height-ratio;
}

h1, h2, h3, h4, h5, h6,
p, blockquote, pre,
ul, ol, dl, figure,
.fld {
	margin-bottom: $half-spacing-unit;
}

a {
	color: $link-color;
	text-decoration: $link-decoration;

	&:visited {
		color: $link-visited-color;
	}

	&:hover {
		color: $link-hover-color;
		text-decoration: $link-hover-decoration;
	}
}

img {
	max-width: 100%;
}

/**
 * Blockquote:
 * `blockquote`
 *
 *     @example
 *     blockquote Lorem ipsum dolor sit amet, consectetur adipiscing elit.
 *     blockquote
 *         p Lorem ipsum dolor sit amet, consectetur adipiscing elit.
 *     blockquote
 *         p.m-bottom-0 Lorem ipsum dolor sit amet, consectetur adipiscing elit.
 *         footer A common form of 
 *             cite lorem ipsum
 */
blockquote {
	border-left: 0.313rem solid $border-color;
	padding: 0 0 0 ($base-spacing-unit - 0.5) - 0.313;

	p {
		font-size: 1.125em;

		&:before,
		&:after {
			font-weight: bold;
		}

		&:before {
			content: $blockquote-left-quotation-mark;
			margin-right: $quarter-spacing-unit / 2;
		}

		&:after {
			content: $blockquote-right-quotation-mark;
			margin-left: $quarter-spacing-unit / 2;
		}
	}

	footer {
		font-size: $small-font-size;

		&:before {
			content: 'â€” ';
		}
	}
}

/**
 * Bold and italic:
 * `strong` `i`
 *
 *     @example
 *     strong Lorem ipsum dolor sit amet, consectetur adipiscing elit.
 *     br
 *     i Lorem ipsum dolor sit amet, consectetur adipiscing elit.
 */
b,
strong {
	font-weight: 700;
}

i {
	font-style: italic;
}

/**
 * Code:
 * `code`
 *
 *     @example
 *     p Use <code>&lt;code&gt;</code> for inline code that can wrap.
 */
code, pre {
	font-family: $mono-font-family;
}

code {
	background-color: $code-background-color;
	border-radius: $code-border-radius;
	font-size: $code-font-size;
	padding: $quarter-spacing-unit / 2;
}

figure {
	margin-left: 0;
	margin-right: 0;

	figcaption {
		font-size: $small-font-size;
		font-style: italic;
		text-align: center;
	}

	code {
		background-color: none;
		padding: 0;
	}

	img {
		margin: 0;
	}
}

/**
 * Code block:
 * `pre`
 *
 *     @example
 *     pre
 *         code
 *             | body {
 *             |     font-size: 100%;
 *             | }
 */
pre {
	background-color: $pre-background-color;
	border-radius: $pre-border-radius;
	overflow-x: auto;
	padding: $quarter-spacing-unit $half-spacing-unit;

	code {
		background-color: transparent;
	}
}

/**
 * Heading:
 * `h1` `h2` `h3` `h4` `h5` `h6`
 *
 *     @example
 *     h1 Heading
 *     h2 Heading
 *     h3 Heading
 *     h4 Heading
 *     h5 Heading
 *     h6 Heading
 */
@each $heading, $size in $headings-sizes {
	#{$heading} {
		font-size: px-to-em($size);
		line-height: $heading-line-height;

		&:not(:first-child) {
			margin-top: px-to-rem($size) + 0.25;
		}
	}
}

/**
 * List:
 * `ol` `ul`
 *
 *     @example
 *     div.row
 *         div.col-6
 *             ol
 *                 li List item
 *                 li List item
 *                 li List item
 *         div.col-6
 *             ul
 *                 li List item
 *                 li List item
 *                 li List item
 */
ol, ul {
	list-style-position: outside;
	padding-left: $half-spacing-unit * 2.5;

	&:not(last-child) {
		margin-bottom: $half-spacing-unit;
	}
}

ul {
	list-style-type: disc;
}

/**
 * Small:
 * `small`
 *
 *     @example
 *     small Lorem ipsum dolor sit amet, consectetur adipiscing elit.
 */
small {
	font-size: $small-font-size;
	// line-height: $line-height-ratio - 0.5;
}

/* ========================================================================== */

/***
 * Buttons:
 */

/**
 * Button:
 * `.btn`
 *
 *     @example
 *     a.btn Button
 */
.btn {
	background-color: $button-background-color;
	border: $button-border;
	border-radius: $button-border-radius;
	color: $button-text-color;
	display: inline-block;
	font-size: $base-font-size;
	font-weight: $button-font-weight;
	line-height: $button-line-height;
	padding: $button-padding;
	text-align: center;
	vertical-align: middle;
	white-space: nowrap;

	-moz-appearance: none;
	-webkit-appearance: none;

	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

	// &:focus {
	// 	-webkit-box-shadow: $button-focus-shadow;
	// 	-moz-box-shadow: $button-focus-shadow;
	// 	box-shadow: $button-focus-shadow;
	// }

	&:hover {
		background-color: 
			shade(
				$button-background-color, 
				$button-hover-background-color-shade-amount
			);
		color: $button-text-color;
	}
}

/**
 * Primary button:
 * `.btn--primary`
 *
 *     @example
 *     a.btn.btn--primary Primary button
 */
.btn--primary {
	background-color: $button-primary-background-color;
	color: $button-primary-text-color;

	&:hover {
		background-color: 
			shade(
				$button-primary-background-color, 
				$button-hover-background-color-shade-amount
			);
		color: $button-primary-text-color;
	}
}

/**
 * Secondary button:
 * `.btn--secondary`
 *
 *     @example
 *     a.btn.btn--secondary Secondary button
 */
.btn--secondary {
	background-color: $button-secondary-background-color;
	color: $button-secondary-text-color;

	&:hover {
		background-color: 
			shade(
				$button-secondary-background-color, 
				$button-hover-background-color-shade-amount
			);
		color: $button-secondary-text-color;
	}
}

/**
 * Colored buttons:
 * `.btn--success` `.btn--danger`
 *
 *     @example
 *     a.btn.btn--success Success button
 *     a.btn.btn--danger Danger button
 */
.btn--success {
	background-color: $button-success-background-color;
	border-color: $button-success-border-color;
	color: $button-success-text-color;

	&:hover {
		background-color: 
			shade(
				$button-success-background-color, 
				$button-hover-background-color-shade-amount
			);
		color: $button-success-text-color;
	}
}

.btn--danger {
	background-color: $button-danger-background-color;
	border-color: $button-danger-border-color;
	color: $button-danger-text-color;

	&:hover {
		background-color: 
			shade(
				$button-danger-background-color, 
				$button-hover-background-color-shade-amount
			);
		color: $button-danger-text-color;
	}
}

/**
 * Outline button:
 * `.btn--outline`
 *
 *     @example
 *     a.btn.btn--outline Outline button
 *     a.btn.btn--primary.btn--outline Primary outline button
 */
.btn--outline {
	background-color: $button-outline-background-color;
	border-color: $button-outline-border-color;
	color: $button-outline-text-color;

	&:hover {
		background-color: 
			transparentize(
				$button-outline-text-color, 
				$button-hover-background-color-transparentize-amount
			);
		border-color: $button-outline-border-color;
		color: $button-outline-text-color;
	}

	&.btn--primary {
		border-color: $button-outline-primary-border-color;
		color: $button-outline-primary-text-color;

		&:hover {
			background-color: 
				transparentize(
					$button-outline-primary-text-color, 
					$button-hover-background-color-transparentize-amount
				);
			border-color: $button-outline-primary-border-color;
			color: $button-outline-primary-text-color;
		}
	}

	&.btn--secondary {
		border-color: $button-outline-secondary-border-color;
		color: $button-outline-secondary-text-color;

		&:hover {
			background-color: 
				transparentize(
					$button-outline-secondary-text-color, 
					$button-hover-background-color-transparentize-amount
				);
			border-color: $button-outline-secondary-border-color;
			color: $button-outline-secondary-text-color;
		}
	}

	&.btn--success {
		border-color: $button-outline-success-border-color;
		color: $button-outline-success-text-color;

		&:hover {
			background-color: 
				transparentize(
					$button-outline-success-text-color, 
					$button-hover-background-color-transparentize-amount
				);
			border-color: $button-outline-success-border-color;
			color: $button-outline-success-text-color;
		}
	}

	&.btn--danger {
		border-color: $button-outline-danger-border-color;
		color: $button-outline-danger-text-color;

		&:hover {
			background-color: 
				transparentize(
					$button-outline-danger-text-color, 
					$button-hover-background-color-transparentize-amount
				);
			border-color: $button-outline-danger-border-color;
			color: $button-outline-danger-text-color;
		}
	}
}

/**
 * Link button:
 * `.btn--link`
 *
 *     @example
 *     button.btn.btn--link Link button
 */
.btn--link {
	background-color: transparent;
	border-color: transparent;
	color: $link-color;

	&:hover {
		background-color: $button-link-hover-background-color;
		border-color: $button-link-hover-border-color;
		color: $button-secondary-text-color;
	}
}

/**
 * Pill button:
 * `.btn--pill`
 *
 *     @example
 *     a.btn.btn--pill Pill button
 */
.btn--pill {
	border-radius: 2em;

	&.btn--sm,
	&.btn--lg {
		@extend .btn--pill;
	}
}

/**
 * Gradient button:
 * `.btn--gradient`
 *
 *     @example
 *     a.btn.btn--primary.btn--gradient Gradient button
 *     a.btn.btn--success.btn--gradient Gradient button
 */
.btn--gradient {
	border: none;

	$button-gradient-background-color-top: 
		tint(
			$button-background-color, 
			$button-gradient-background-color-top-tint-amount
		);
	$button-gradient-background-color-bottom: 
		shade(
			$button-background-color, 
			$button-gradient-background-color-bottom-shade-amount
		);

	@include button-gradient-bg(
		$button-gradient-background-color-top, 
		$button-gradient-background-color-bottom
	);

	&:hover {
		@include button-gradient-bg(
			shade(
				$button-gradient-background-color-top, 
				$button-hover-background-color-shade-amount
			), 
			shade(
				$button-gradient-background-color-bottom, 
				$button-hover-background-color-shade-amount
			)
		);
	}

	&.btn--primary {
		$button-gradient-primary-background-color-top: 
			tint(
				$button-primary-background-color, 
				$button-gradient-background-color-top-tint-amount
			);
		$button-gradient-primary-background-color-bottom: 
			shade(
				$button-primary-background-color, 
				$button-gradient-background-color-bottom-shade-amount
			);

		$button-gradient-background-color-top-hsl: 
			hsl(
				hue($button-gradient-primary-background-color-top) + $button-gradient-background-color-top-hue, 
				saturation($button-gradient-primary-background-color-top) + $button-gradient-background-color-top-saturation, 
				lightness($button-gradient-primary-background-color-top) + $button-gradient-background-color-top-lightness
			);
		$button-gradient-background-color-bottom-hsl: 
			hsl(
				hue($button-gradient-primary-background-color-bottom) + $button-gradient-background-color-bottom-hue,  
				saturation($button-gradient-primary-background-color-bottom) + $button-gradient-background-color-bottom-saturation, 
				lightness($button-gradient-primary-background-color-bottom) + $button-gradient-background-color-bottom-lightness
			);

		@include button-gradient-bg(
			$button-gradient-background-color-top-hsl,
			$button-gradient-background-color-bottom-hsl
		);

		&:hover {
			@include button-gradient-bg(
				shade(
					$button-gradient-background-color-top-hsl, 
					$button-hover-background-color-shade-amount
				), 
				shade(
					$button-gradient-background-color-bottom-hsl, 
					$button-hover-background-color-shade-amount
				)
			);
		}
	}

	&.btn--secondary {
		$button-gradient-secondary-background-color-top: 
			tint(
				$button-secondary-background-color, 
				$button-gradient-background-color-top-tint-amount
			);
		$button-gradient-secondary-background-color-bottom: 
			shade(
				$button-secondary-background-color, 
				$button-gradient-background-color-bottom-shade-amount
			);

		@include button-gradient-bg(
			$button-gradient-secondary-background-color-top, 
			$button-gradient-secondary-background-color-bottom
		);

		&:hover {
			@include button-gradient-bg(
				shade(
					$button-gradient-secondary-background-color-top, 
					$button-hover-background-color-shade-amount
				), 
				shade(
					$button-gradient-secondary-background-color-bottom, 
					$button-hover-background-color-shade-amount
				)
			);
		}
	}

	&.btn--success {
		$button-gradient-success-background-color-top: 
			tint(
				$button-success-background-color, 
				$button-gradient-background-color-top-tint-amount
			);
		$button-gradient-success-background-color-bottom: 
			shade(
				$button-success-background-color, 
				$button-gradient-background-color-bottom-shade-amount
			);

		$button-gradient-background-color-top-hsl: 
			hsl(
				hue($button-gradient-success-background-color-top) + $button-gradient-background-color-top-hue, 
				saturation($button-gradient-success-background-color-top) + $button-gradient-background-color-top-saturation, 
				lightness($button-gradient-success-background-color-top) + $button-gradient-background-color-top-lightness
			);
		$button-gradient-background-color-bottom-hsl: 
			hsl(
				hue($button-gradient-success-background-color-bottom) + $button-gradient-background-color-bottom-hue,  
				saturation($button-gradient-success-background-color-bottom) + $button-gradient-background-color-bottom-saturation, 
				lightness($button-gradient-success-background-color-bottom) + $button-gradient-background-color-bottom-lightness
			);

		@include button-gradient-bg(
			$button-gradient-background-color-top-hsl, 
			$button-gradient-background-color-bottom-hsl
		);

		&:hover {
			@include button-gradient-bg(
				shade(
					$button-gradient-background-color-top-hsl, 
					$button-hover-background-color-shade-amount
				), 
				shade(
					$button-gradient-background-color-bottom-hsl, 
					$button-hover-background-color-shade-amount
				)
			);
		}
	}

	&.btn--danger {
		$button-gradient-danger-background-color-top: 
			tint(
				$button-danger-background-color, 
				$button-gradient-background-color-top-tint-amount
			);
		$button-gradient-danger-background-color-bottom: 
			shade(
				$button-danger-background-color, 
				$button-gradient-background-color-bottom-shade-amount
			);

		$button-gradient-background-color-top-hsl: 
			hsl(
				hue($button-gradient-danger-background-color-top) + $button-gradient-background-color-top-hue, 
				saturation($button-gradient-danger-background-color-top) + $button-gradient-background-color-top-saturation, 
				lightness($button-gradient-danger-background-color-top) + $button-gradient-background-color-top-lightness
			);
		$button-gradient-background-color-bottom-hsl: 
			hsl(
				hue($button-gradient-danger-background-color-bottom) + $button-gradient-background-color-bottom-hue,  
				saturation($button-gradient-danger-background-color-bottom) + $button-gradient-background-color-bottom-saturation, 
				lightness($button-gradient-danger-background-color-bottom) + $button-gradient-background-color-bottom-lightness
			);

		@include button-gradient-bg(
			$button-gradient-background-color-top-hsl, 
			$button-gradient-background-color-bottom-hsl
		);

		&:hover {
			@include button-gradient-bg(
				shade(
					$button-gradient-background-color-top-hsl, 
					$button-hover-background-color-shade-amount
				), 
				shade(
					$button-gradient-background-color-bottom-hsl, 
					$button-hover-background-color-shade-amount
				)
			);
		}
	}
}

/**
 * Expanded button:
 * `.btn--expanded`
 *
 *     @example
 *     a.btn.btn--primary.btn--lg.btn--expanded Expanded button
 */
.btn--expanded {
	display: block;
	width: 100%;
}

/**
 * Button size:
 * `.btn--sm` `.btn--lg`
 *
 *     @example
 *     a.btn.btn--primary.btn--sm Small button
 *     a.btn.btn--primary.btn--lg Large button
 */
.btn--sm {
	border-radius: $button-small-border-radius;
	font-size: $button-small-font-size;
	padding: $button-small-padding;
}

.btn--lg {
	border-radius: $button-large-border-radius;
	font-size: $button-large-font-size;
	padding: $button-large-padding;
}

/* ========================================================================== */

/***
 * Forms:
 */

.ctrl {
	font-size: $base-font-size;
	position: relative;
	text-align: left;
}

/**
 * Input:
 * `.input`
 *
 *     @example
 *     input(type='text', placeholder='Text input').input
 */
.input {
	border: $input-border;
	border-radius: $input-border-radius;
	font-size: $base-font-size;
	line-height: $input-line-height;
	padding: $input-padding;

	width: 100%;

	&:active {
		border-color: $input-active-border-color;
	}

	&:focus,
	&:focus:hover {
		border-color: $input-focus-border-color;
	}

	&:hover {
		border-color: $input-hover-border-color;
	}
}

.fld--group {
	display: -ms-flexbox;
	display: -webkit-box;
	display: flex;
	-ms-flex-pack: start;
	-webkit-box-pack: start;
	justify-content: flex-start;

	width: 100%;

	> *:not(:last-child) {
		margin-right: -1px;
	}

	.lbl {
		&:first-child {
			margin-right: $quarter-spacing-unit;

			& + .input {
				flex-grow: 2;
			}
		}
	}

	.input {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;

		width: auto;

		&:first-child {
			-ms-flex: 1 1 auto;
			flex: 1 1 auto;
		}

		&:last-child {
			border-top-right-radius: $border-radius;
			border-bottom-right-radius: $border-radius;
		}
	}

	.btn {
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}
}

/* ========================================================================== */

/***
 * Lists:
 */

 /**
 * Unstyled list:
 * `.ls-unstyled`
 *
 *     @example
 *     ul.ls-unstyled
 *         li Apricot
 *         li Banana
 *         li Cherry
 *             ul
 *                 li Caramel
 *                 li Ice cream
 */
.ls-unstyled {
	list-style: none;
	padding-left: 0;
}

 /**
 * Inline list:
 * `.ls-inline`
 *
 *     @example
 *     ul.ls-inline
 *         li Apricot
 *         li Banana
 *         li Cherry
 */
.ls-inline {
	@extend .ls-unstyled;

	li {
		display: inline-block;

		&:not(:last-child) {
			margin-right: $half-spacing-unit;
		}
	}
}

/* ========================================================================== */

/***
 * Tables:
 */

table {
	border-collapse: collapse;
	margin-bottom: $half-spacing-unit;
	max-width: 100%;
	width: 100%;
}

th {
	text-align: $table-heading-text-align;
}

/**
 * Table:
 * `.tbl` Tables are styled nicely for you.
 *
 *     @example
 *     table.tbl
 *         thead
 *             tr
 *                 th Table heading
 *                 th Table heading
 *                 th Table heading
 *         tbody
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 */
.tbl {
	// border-spacing: 0;

	tr {
		& + tr {
			th, td {
				border-top: 1px solid $border-color;
			}
		}
	}

	th {
		border-bottom: 2px solid $border-color;
		font-weight: $table-heading-font-weight;
	}

	th, td {
		padding: $quarter-spacing-unit;
		vertical-align: top;
	}
}

@each $prop, $abbr in (width: tbl-col) {
	@each $size, $length in $sizes {
		@for $i from 1 through length($sizes) {
			$col: $i;
			.#{$abbr}-#{$col}-#{$size} {
				tr th:nth-child(#{$col}),
				tr td:nth-child(#{$col}) {
					#{$prop}: $length;
				}
			}
		}
	}
}

/**
 * Bordered table:
 * `.tbl-bordered`
 *
 *     @example
 *     table.tbl.tbl-bordered
 *         thead
 *             tr
 *                 th Table heading
 *                 th Table heading
 *                 th Table heading
 *         tbody
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 */
.tbl-bordered {
	border: 1px solid $border-color;
}

/**
 * Responsive table:
 * `.tbl-responsive`
 *
 *     @example
 *     table.tbl.tbl-responsive
 *         thead
 *             tr
 *                 th Table heading
 *                 th Table heading
 *                 th Table heading
 *         tbody
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 */
.tbl-responsive {
	overflow-x: auto;
}

@media screen and (max-width: $breakpoint-sm-min-width - 1) {
	.tbl-responsive {
		display: block;
		-ms-overflow-style: -ms-autohiding-scrollbar;
		overflow-y: hidden;
	}
}

/**
 * Scrolling table:
 * `.tbl-scroll`
 *
 *     @example
 *     table.tbl.tbl-scroll
 *         thead
 *             tr
 *                 th Table heading
 *                 th Table heading
 *                 th Table heading
 *         tbody
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 *             tr
 *                 td Table data
 *                 td Table data
 *                 td Table data
 */
.tbl-scroll {
	display: block;
	overflow-x: auto;

	th, td {
		white-space: nowrap;
	}
}
