/***
 * Drawer:
 */

/**
 * Standard drawer:
 *
 *     @example
 *     div.drawer-wrapper
 *         input(type='checkbox', id='eg-open-drawer-right').drawer-toggle
 *         div.drawer.drawer--right
 *             div.p-4 Drawer content
 *         div.drawer-outside
 *             div.p-4
 *                 p Lorem ipsum dolor sit amet, mei nisl meliore eu. Ne ius quaeque discere, homero inermis ex eos. Iuvaret quaestio sapientem te nec. Falli legendos expetendis ei sed, sed quidam interpretaris ei, ipsum soleat quaestio ad mel.
 *                 label(for='eg-open-drawer-right').btn Open right drawer
 */
.drawer-wrapper {
	overflow: hidden;
	position: relative;
}

.drawer {
	background-color: $drawer-background-color;
	position: fixed;
	
	visibility: hidden;
	width: $drawer-width;
}

.drawer--right {
	margin-right: -$drawer-width;
	
	top: 0;
	bottom: 0;
	right: 0;
}

.drawer--right,
.drawer--right ~ .drawer-outside {
	transition: margin-right $transition-duration $transition-timing-function, 
				  visibility $transition-duration $transition-timing-function;
}

.drawer-outside {
	transform: none;
}

.drawer-toggle {
	opacity: 0;
	position: absolute;
	z-index: -1;

	&:checked {
		~ .drawer {
			visibility: visible;
		}

		~ .drawer--right {
			margin-right: 0;
		}

		~ .drawer--right ~ .drawer-outside {
			margin-right: $drawer-width;
		}
	}
}

/**
 * Drawer with push:
 * `.drawer--push`
 *
 *     @example
 *     div.drawer-wrapper
 *         input(type='checkbox', id='eg-open-drawer-right-push').drawer-toggle
 *         div.drawer.drawer--right.drawer--push
 *             div.p-4 Drawer content
 *         div.drawer-outside
 *             div.p-4
 *                 p Lorem ipsum dolor sit amet, mei nisl meliore eu. Ne ius quaeque discere, homero inermis ex eos. Iuvaret quaestio sapientem te nec. Falli legendos expetendis ei sed, sed quidam interpretaris ei, ipsum soleat quaestio ad mel.
 *                 label(for='eg-open-drawer-right-push').btn Open right drawer with push
 */
.drawer--push.drawer--right {
	margin-right: 0;
	transform: translateX($drawer-width);
}

.drawer--push,
.drawer--push ~ .drawer-outside {
	transition: transform $transition-duration $transition-timing-function, 
			   visibility $transition-duration $transition-timing-function;
}

.drawer-toggle:checked {
	~ .drawer--push {
		transform: translate(0, 0);
	}

	~ .drawer--push ~ .drawer-outside {
		margin: 0;
		transform: translateX(-$drawer-width);
	}
}

/**
 * Drawer with overlap:
 * `.drawer--overlap`
 *
 *     @example
 *     div.drawer-wrapper
 *         input(type='checkbox', id='eg-open-drawer-right-overlap').drawer-toggle
 *         div.drawer.drawer--right.drawer--overlap
 *             div.p-4 Drawer content
 *         div.drawer-outside
 *             div.p-4
 *                 p Lorem ipsum dolor sit amet, mei nisl meliore eu. Ne ius quaeque discere, homero inermis ex eos. Iuvaret quaestio sapientem te nec. Falli legendos expetendis ei sed, sed quidam interpretaris ei, ipsum soleat quaestio ad mel.
 *                 label(for='eg-open-drawer-right-overlap').btn Open right drawer with overlap
 */
.drawer-toggle:checked {
	~ .drawer--overlap ~ .drawer-outside {
		margin: 0;
	}
}
